æœ¬æ–‡å·²å‚ä¸ã€Œæ–°äººåˆ›ä½œç¤¼ã€æ´»åŠ¨ï¼Œä¸€èµ·å¼€å¯æ˜é‡‘åˆ›ä½œä¹‹è·¯

# å…³äºé…ç½®çš„ç®€å•æ€è€ƒ

å…³äºé¡¹ç›®çš„é…ç½®é—®é¢˜ï¼Œå¯ä»¥æ˜¯è¿™æ ·ï¼Œçœ‹èµ·æ¥å…‰ç§ƒç§ƒçš„ï¼ˆæ˜¯çš„ï¼Œæ²¡é”™ï¼Œå°±æ˜¯æˆ‘é‡æ„ä¹‹å‰çš„é¡¹ç›®ï¼‰

![image-20220428114035895](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204281140982.png)

ä¹Ÿå¯ä»¥æ˜¯è¿™æ ·çœ‹èµ·æ¥é«˜çº§ä¸€ç‚¹çš„ï¼ˆæœ‰ç‚¹é•¿ï¼‰

![image-20220428114538550](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204281145581.png)

é¡¹ç›®è¯¥æ€ä¹ˆé…ç½®æ˜¯å¾ˆå¤šåˆçº§å¼€å‘è€…ï¼ˆæ¯”å¦‚è¯´æˆ‘ï¼‰éƒ½æ¯”è¾ƒå¤´ç–¼çš„äº‹æƒ…ï¼Œå› ä¸ºäººæ˜¯å¾ˆéš¾å‡­ç©ºæƒ³è±¡å‡ºä¸€ä¸ªæ°åˆ°å¥½å¤„çš„ä¸œè¥¿çš„ã€‚æˆ‘éœ€è¦é…ç½®å“ªäº›ä¸œè¥¿ï¼Œå“ªäº›é…ç½®èƒ½çœŸæ­£å¸®åŠ©æˆ‘å®Œæˆæ•´ä¸ªé¡¹ç›®æˆ–è€…è¾¾åˆ°æŸä¸ªç›®çš„ï¼Œè¿™ç¡®å®ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½è§£å†³çš„é—®é¢˜ï¼Œå› ä¸ºå…·ä½“è¿˜æ˜¯è¦æ ¹æ®å®é™…æƒ…å†µæ¥å®šã€‚

é‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿ

**æ¨¡ä»¿ + é€‚é…**ã€‚åœ¨å‡†å¤‡ç¯‡ï¼Œæˆ‘æåˆ°äº†ä¸€äº›ä¼˜ç§€çš„`Admin`ï¼Œå…¶ä¸­å°±æœ‰å¾ˆå¤šèƒ½å¤Ÿè§£å†³å®é™…é—®é¢˜çš„å‚è€ƒç‚¹ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›ä¼˜ç§€çš„å¼€åŸæ¡†æ¶çš„æºç ï¼Œä»ä¸­ä½ å¯ä»¥çœ‹åˆ°å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ã€‚è¿™é‡Œå°±é’ˆå¯¹`HuoHuo-Admin`æ¥å±•å¼€ï¼Œçœ‹çœ‹å“ªäº›é…ç½®é€šç”¨æ€§è¾ƒé«˜ï¼Œå“ªäº›éœ€è¦è·Ÿç€å…·ä½“éœ€æ±‚èµ°ã€‚

æˆ‘ä»¬åˆå§‹åŒ–çš„é¡¹ç›®ç›®å½•æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œè¿™é‡Œå†ç»™å‡ºä¸¤ä¸ªä¼˜ç§€çš„æ¡ˆä¾‹ä¸€èµ·çœ‹çœ‹ï¼ˆç»“åˆä¸Šé¢çš„é¡¹ç›®ç›®å½•è§‚å¯Ÿï¼‰

![image-20220428163155457](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204281631503.png)

è¿™é‡Œæ¨èä»ç›®å½•å¼€å§‹ï¼Œè¿›è¡Œæ¯”å¯¹ï¼Œç„¶åè®©æˆ‘ä»¬æ¥å¼€å§‹ä¸€æ­¥æ­¥ç»™`HuoHuo-Admin`å¢åŠ é…ç½®å§ï¼

# .github æ–‡ä»¶

> ä½ ä¼šå‘ç°ï¼Œå¾ˆå¤šå¼€æºé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹éƒ½ä¼šæœ‰ä¸€ä¸ª`.github`æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ

![image-20220428164516677](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204281645718.png)

é¡¾åæ€ä¹‰ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªè®©ä½ çš„é¡¹ç›®ä¸`github`ä¸ŠæŸäº›åŠŸèƒ½è”ç³»ä¸Šçš„æ¡¥æ¢ï¼Œè‡³äºæ˜¯ä»€ä¹ˆæ ·çš„æ¡¥æ¢ï¼Œå–å†³äºä½ æ˜¯å¦‚ä½•å †ç Œçš„ï¼ˆè‡ªå®šä¹‰åŒ–ï¼‰ã€‚

ä¸Šå›¾å››ä¸ªé¡¹ç›®çš„`.github`æ–‡ä»¶å¤¹ä¸‹åŸºæœ¬éƒ½æœ‰è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹ â€”â€”â€”â€” `ISSUE_TEMPLATE`ã€`workflows`ï¼Œä»¥åŠå…¶ä»–é…ç½®æ–‡ä»¶

## ISSUE_TEMPLATE

æ‰“å¼€`github`å†…çš„ä¸€ä¸ªé¡¹ç›®ï¼ˆæ¯”å¦‚[element-plus](https://github.com/element-plus/element-plus/issues)ï¼‰ï¼Œå°±èƒ½çœ‹åˆ°è·Ÿè¯¥æ–‡ä»¶å¯¹åº”çš„åœ°æ–¹ ï¼Œå³ `Issues`ã€‚

![image-20220428182124046](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204281821121.png)

çœ‹åˆ°è¿™é‡Œï¼Œé©¬ä¸Šå°±èƒ½æ˜ç™½è¿™ä¸ªæ–‡ä»¶æ˜¯åšä»€ä¹ˆçš„äº†ï¼š**ç»™è¯¥é¡¹ç›®æ issues æ—¶éœ€è¦éµå¾ªçš„æ¨¡æ¿è§„åˆ™**

ä¸€èˆ¬æ¥è¯´ï¼Œéƒ½ä¼šè®¾ç½®ä¸¤ä¸ªæ¨¡æ¿ï¼ˆæ¨¡æ¿ä¸ªæ•°ä¸é™ï¼‰ï¼šBug æäº¤æ¨¡æ¿ã€éœ€æ±‚æäº¤æ¨¡æ¿

æˆ‘ä»¬å¯ä»¥åœ¨ VSCode ä¸­ç¼–è¾‘æ¨¡æ¿æ–‡ä»¶ï¼ˆ.md æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥[åœ¨ github ä¸­åˆ›å»º](https://blog.csdn.net/michael_wgy_/article/details/105655053)

æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸‹ï¼š

![image-20220428183557947](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204281835979.png)

**bug_report.md** ç¤ºä¾‹

```markdown
---
name: ğŸ› Bug reportï¼ˆæŠ¥å‘Šé—®é¢˜ï¼‰
about: Create a report to help us improve (å‘æˆ‘ä»¬æŠ¥å‘Šä¸€ä¸ªBugä»¥å¸®åŠ©æˆ‘ä»¬æ”¹è¿›)
title: ""
labels: ""
assignees: ""
---

<!--
    æ³¨æ„ï¼šä¸ºæ›´å¥½çš„è§£å†³ä½ çš„é—®é¢˜ï¼Œè¯·å‚è€ƒæ¨¡æ¿æä¾›å®Œæ•´ä¿¡æ¯ï¼Œå‡†ç¡®æè¿°é—®é¢˜ï¼Œä¿¡æ¯ä¸å…¨çš„ issue å°†è¢«å…³é—­ã€‚

    Note: In order to better solve your problem, please refer to the template to provide complete information, accurately describe the problem, and the incomplete information issue will be closed.
-->

## Bug reportï¼ˆBug æè¿°ï¼‰

### Steps to reproduceï¼ˆBug å¤ç°æ­¥éª¤ï¼‰

<!--
è¯·æè¿°å¤ç° Bug çš„è¯¦ç»†æ­¥éª¤ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬å¯ä»¥ç†è§£å¹¶å®šä½é—®é¢˜ã€‚

1. [xxx]
2. [xxx]
3. [xxxx]
-->

### Screenshot or Gifï¼ˆæˆªå›¾æˆ–åŠ¨æ€å›¾ï¼‰

### Link to minimal reproductionï¼ˆæœ€å°å¯åœ¨çº¿è¿˜åŸ demoï¼‰

<!--
Please only use Codepen, JSFiddle, CodeSandbox or a github repo
-->

### Other relevant informationï¼ˆæ ¼å¤–ä¿¡æ¯ï¼‰

- Your OS(æ“ä½œç³»ç»Ÿ):
- Node.js version(Node ç‰ˆæœ¬):
- Npm/Yarn/Pnpm(åŒ…ç®¡ç†å™¨åŠå…¶ç‰ˆæœ¬):
- Vue3-huohuo-admin version(é¡¹ç›®ç‰ˆæœ¬):
```

**feature_request.md** ç¤ºä¾‹

```markdown
---
name: ğŸš€ Feature requestï¼ˆæ–°åŠŸèƒ½å»ºè®®ï¼‰
about: Suggest an idea for this project (ä¸ºè¿™ä¸ªé¡¹ç›®æå‡ºä¸€ä¸ªæƒ³æ³•)
title: ""
labels: ""
assignees: ""
---

<!--
    æ³¨æ„ï¼šæ¬¢è¿æ‚¨å‚ä¸å¯¹è¯¥é¡¹ç›®çš„æ–°åŠŸèƒ½å»ºè®®ï¼
    è¯·å°½å¯èƒ½å¡«å†™ä»¥ä¸‹æ¨¡æ¿ã€‚

    Note: You are welcome to suggest new features for the project!
    Please fill in as much of the template below as youâ€™re able.

-->

## Feature requestï¼ˆæ–°åŠŸèƒ½å»ºè®®ï¼‰

### Subject of the featureï¼ˆæ–°åŠŸèƒ½çš„ç‰¹å¾ï¼‰

Describe your issue here.

### Solved problemï¼ˆè§£å†³çš„é—®é¢˜ï¼‰

If the feature requests relates to a problem, please describe the problem you are trying to solve here.

### Expected behaviourï¼ˆé¢„æœŸè¡¨ç°ï¼‰

What should happen? Please describe the desired behaviour.

### Alternativesï¼ˆæ–¹æ¡ˆï¼‰

What are the alternative solutions? Please describe what else you have considered?
```

## workflows

å…³äº github çš„å·¥ä½œæµï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒ[å®˜ç½‘çš„è¯¦ç»†ä»‹ç»](https://docs.github.com/cn/actions/using-workflows)

è¿™ä¸€éƒ¨åˆ†æˆ‘è¿˜æ²¡æœ‰æ·±å…¥å­¦ä¹ ä½¿ç”¨ï¼Œæ‰€ä»¥å…ˆç•™ä¸ªç©º......

## å…³äº Markdown è­¦å‘Š

åœ¨ç¼–è¾‘`Markdown`æ–‡ä»¶æ—¶ï¼Œå¦‚æœ`VSCode`ä¼šå¼¹å‡º`Markdown`è­¦å‘Šï¼Œæ¯”å¦‚

![image-20220428194720549](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204281947589.png)

å› ä¸ºä½ æ‰€ç¼–è¾‘çš„`Markdown`æ–‡ä»¶æ²¡æœ‰ä¸¥æ ¼éµå¾ªç‰¹å®šçš„è§„åˆ™ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³éµå¾ªè¿™äº›è§„åˆ™ï¼Œè¿™å°±éœ€è¦è‡ªè¡Œå¯¹`Markdown`çš„æ ¡éªŒåšä¸€ä¸ªé…ç½®ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º`.markdownlint.json`æ–‡ä»¶ï¼‰ã€‚

**.markdownlint.json**

![image-20220428195327675](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204281953711.png)

> Github Actions(CI/CO æœåŠ¡) æ‹¥æœ‰éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¦‚æœä½ æƒ³åšå¼€æºé¡¹ç›®ï¼Œé‚£ä¹ˆä¸€ä¸ªå¥½çš„`github`åŠŸèƒ½é…ç½® + `Actions`æµç¨‹ï¼Œä¼šç»™ä½ çš„å¼€æºé¡¹ç›®å¸¦æ¥çš„å·¨å¤§åŠ©åŠ›ã€‚

# .husky æ–‡ä»¶ â€”â€” ä»£ç æäº¤è§„èŒƒ

## husky æ˜¯ä»€ä¹ˆï¼Ÿ

[å®˜æ–¹æ–‡æ¡£](https://typicode.github.io/husky/)

å¦‚æœä½ æƒ³åœ¨å¾€`github`ä»“åº“ä¸­æäº¤ä»£ç çš„æ—¶å€™ï¼Œèƒ½å¤Ÿæ ¹æ®è‡ªå®šä¹‰çš„æäº¤ä¿¡æ¯ã€ä»£ç è§„èŒƒè¿›è¡Œè‡ªåŠ¨æ ¡éªŒï¼Œé¿å…å¤šäººåä½œå¼€å‘æ—¶æäº¤ä»£ç ä¿¡æ¯ä¸å‡†ç¡®æˆ–è€…ä»£ç æ ¼å¼çš„ä¸ç»Ÿä¸€ï¼Œé‚£ä¹ˆ`husky`æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚

> è¿™é‡Œæˆ‘ä»¬å°†ä¼šç»“åˆ`**husky + lint-staged + git hook**`æ¥é›†æˆä¸€å¥—è§„èŒƒä»£ç æäº¤æ—¶è¿›è¡Œæ ¼å¼åŒ–æ£€æµ‹å’Œæ ¼å¼åŒ–æ“ä½œçš„è§„èŒƒç³»ç»Ÿï¼Œä»¥ä¿è¯æˆ‘ä»¬ä»£ç æäº¤çš„è´¨é‡ä¸æäº¤ä¿¡æ¯çš„é«˜æ•ˆç®¡ç†ã€‚

## å®‰è£… husky

æˆ‘ä»¬æ ¹æ®å®˜æ–¹çš„æµç¨‹è¿›è¡Œé…ç½®

**1ã€å®‰è£… husky**

![image-20220428203328429](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282033457.png)

**2ã€åœ¨é¡¹ç›®ä¸­å®‰è£… husky**

è¿™æ—¶å€™å¯èƒ½ä¼š**å¤±è´¥**ï¼Œå› ä¸ºæ­¤æ—¶ä½ çš„é¡¹ç›®å¹¶æ²¡æœ‰æ”¾åˆ°`github`ä¸Šå‘€ï¼

![image-20220428203500577](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282035601.png)

å…ˆæ“ä½œä¸€ä¸‹ ~

[å°†æœ¬åœ°é¡¹ç›®å…³è”åˆ°è¿œç¨‹ git ä»“åº“](https://blog.csdn.net/u013033038/article/details/81018174/)

å†ç»§ç»­

![image-20220428205305933](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282053980.png)

æŸ¥çœ‹ä¸€ä¸‹`git`é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°`core.hooksPath`æŒ‡å‘ä¸º`.husky`ã€‚è¿™é‡Œæ¶‰åŠ`husky`å®ç°åŸç†ï¼šæ›¿æ¢`.git/hooks`çš„ç›®å½•ä¸ºè‡ªå®šä¹‰ç›®å½•ï¼Œä¸”è¯¥ç›®å½•ä¼šæäº¤åˆ°è¿œç¨‹ä»“åº“ã€‚

![image-20220428205855084](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282058128.png)

**3ã€æ·»åŠ  husky install åˆ° package.json scripts ä¸­**

ä¸ºäº†è®©å…¶ä»–äººåœ¨æ­¤é¡¹ç›®ä¸­å®‰è£…ä¾èµ–åä¹Ÿèƒ½è‡ªåŠ¨åˆ›å»º`.husky`ç›®å½•å¹¶æŒ‡å®šè¯¥ç›®å½•ä¸º`git hooks`æ‰€åœ¨çš„ç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨`package.json`é‡Œé¢æ·»åŠ ä¸€æ¡è„šæœ¬å‘½ä»¤`"prepare": "husky install"`

æˆ‘ä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯`pnpm`ï¼Œä½†æ˜¯ä¼šæŠ¥é”™ï¼Œè‡³äºä¸ºä»€ä¹ˆä¼šæŠ¥é”™æˆ‘ä¹Ÿè¿˜æ²¡æ‰¾åˆ°åŸå› ï¼Œæ‰€ä»¥è¿™é‡Œè¿˜æ˜¯ç”¨ä¸€ä¸‹`npm`å§ã€‚

![image-20220428210652399](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282106440.png)

## husky hook é›†æˆ

å®‰è£…å¥½`husky`ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹æ­£å¼é…ç½®æ£€æµ‹è§„åˆ™ã€‚

### é›†æˆ pre-commit

> è¯¥å·¥å…·ç”¨äºå¸®åŠ©æˆ‘ä»¬åœ¨æäº¤ä»£ç æ—¶ï¼ˆ`git commit`ï¼‰æ£€æµ‹ä»£ç çš„è§„èŒƒæ€§ï¼Œé˜²æ­¢ä»£ç æäº¤è€…æäº¤ä¸ç¬¦åˆè§„å®šæ ¼å¼çš„ä»£ç ã€‚

å¤§å‹é¡¹ç›®å»ºè®®ä½¿ç”¨`lint-staged`é…åˆ`eslint`ã€‚è¿™é‡Œæˆ‘æ›´å–œæ¬¢ä½¿ç”¨`prety-quick`ï¼Œå…ˆå®‰è£…ä¸‹

```bash
pnpm install prettier pretty-quick --save-dev
```

é€šè¿‡`husky`ç›‘æµ‹`pre-commit`é’©å­ï¼Œåœ¨è¯¥é’©å­ä¸‹æ‰§è¡Œ`npm run lint:pretty`æŒ‡ä»¤æ¥å»è¿›è¡Œç›¸å…³æ£€æµ‹ã€‚

```bash
npx husky add .husky/pre-commit "npm run lint:pretty"
```

è®°å¾—åœ¨`package.json`ä¸­æ·»åŠ è¿è¡Œå‘½ä»¤

![image-20220428223544526](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282235574.png)

### é›†æˆ lint-staged

> æˆ‘ä»¬åœ¨`pre-commit`æ—¶æ£€æµ‹ï¼ˆ`git add`åçš„æš‚å­˜åŒºæ–‡ä»¶ï¼‰åˆ°äº†ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç æ—¶ï¼Œè¯¥å·¥å…·å¯ä»¥è¿è¡Œ lint å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ä¿®å¤ä¸è§„èŒƒä»£ç ã€‚

`lint-staged`ä¼šæ ¹æ®`package.json`ä¾èµ–é¡¹ä¸­çš„ä»£ç è§„èŒƒå·¥å…·ï¼ˆå¦‚`Prettier`å’Œ`ESlint`ï¼‰æ¥å®‰è£…å’Œé…ç½®`husky`å’Œ`lint-staged`ï¼Œå› æ­¤è¯·ç¡®ä¿åœ¨æ­¤ä¹‹å‰å®‰è£…å¹¶é…ç½®æ‰€æœ‰ä»£ç è§„èŒƒå·¥å…·ã€‚

å…ˆå®‰è£…

```bash
pnpm install lint-staged --save-dev
```

æ·»åŠ ä¸€ä¸ª`lint-staged`é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šéœ€è¦è‡ªåŠ¨ä¿®å¤çš„æ–‡ä»¶ã€‚å¹¶åœ¨`.husky/pre-commit`å’Œ`package.json`ä¸­æ·»åŠ é…ç½®ã€‚

```js
// lintstagedrc.js æ–‡ä»¶
module.exports = {
  "*.{js,jsx,ts,tsx}": ["eslint --fix", "prettier --write"],
  "{!(package)*.json,.!(browserslist)*rc}": ["prettier --write--parser json"],
  "package.json": ["prettier --write"],
  "*.vue": ["eslint --fix", "prettier --write", "stylelint --fix"],
  "*.{vue,css,scss,postcss,less}": ["stylelint --fix", "prettier --write"],
  "*.md": ["prettier --write"],
};
```

![image-20220428224301356](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282243400.png)

### é›†æˆ commitlint

> è¯¥å·¥å…·ç”¨äºå¸®åŠ©æˆ‘ä»¬è§„èŒƒæäº¤ä¿¡æ¯

**1ã€å®‰è£… commitlintï¼š**

```bash
pnpm install @commitlint/config-conventional @commitlint/cli --save-dev
```

![image-20220428214106888](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282141957.png)

**2ã€åœ¨æ ¹ç›®å½•åˆ›å»º commitlint.config.js æ–‡ä»¶ï¼š**

```js
module.exports = {
  // å¿½ç•¥éƒ¨åˆ†
  ignores: [(commit) => commit.includes("init")],
  // ç»§æ‰¿çš„è§„åˆ™
  extends: ["@commitlint/config-conventional"],
  // å®šä¹‰è§„åˆ™ç±»å‹
  rules: {
    "body-leading-blank": [2, "always"],
    "footer-leading-blank": [1, "always"],
    "header-max-length": [2, "always", 108],
    "subject-empty": [2, "never"],
    "type-empty": [2, "never"],
    // type ç±»å‹å®šä¹‰ï¼Œè¡¨ç¤º git æäº¤çš„ type å¿…é¡»åœ¨ä»¥ä¸‹ç±»å‹èŒƒå›´å†…
    "type-enum": [
      2,
      "always",
      [
        "feat", // æ–°å¢feature
        "fix", // ä¿®å¤bug
        "perf", // ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æ€§èƒ½ã€ä½“éªŒçš„æå‡
        "style", // ä»…ä»…ä¿®æ”¹äº†ç©ºæ ¼ã€æ ¼å¼ç¼©è¿›ã€é€—å·ç­‰ç­‰ï¼Œä¸æ”¹å˜ä»£ç é€»è¾‘;
        "docs", // 	ä»…ä»…ä¿®æ”¹äº†æ–‡æ¡£ï¼Œæ¯”å¦‚README, CHANGELOG, CONTRIBUTEç­‰ç­‰;
        "test", // æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰
        "refactor", // ä»£ç é‡æ„ï¼Œæ²¡æœ‰åŠ æ–°åŠŸèƒ½æˆ–è€…ä¿®å¤bug
        "build",
        "ci",
        "chore", // æ”¹å˜æ„å»ºæµç¨‹ã€æˆ–è€…å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰
        "revert", // å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
        "wip",
        "workflow",
        "types",
        "release",
      ],
    ],
  },
};
```

**3ã€ä½¿ç”¨ commit-msg é’©å­è§„èŒƒåŒ–æäº¤ä¿¡æ¯**

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¿«é€Ÿåˆ›å»º`git hooks`çš„`commit-msg`é’©å­ï¼Œè¿™æ ·æ¯æ¬¡`commit`çš„æ—¶å€™éƒ½ä¼šç”± `commitlint`å¯¹`commit`ä¿¡æ¯è¿›è¡Œä¸€æ¬¡æ£€éªŒã€‚

```bash
npx husky add .husky/commit-msg 'npx --no-install commitlint --edit "$1"'
```

![image-20220428214837741](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204282148784.png)

### è¡¥å……

**git hooks å¤±è´¥**
åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°åœ¨`windows10`çš„`Git Bash`ä¸­ä½¿ç”¨`yarn`æˆ–è€…`pnpm`æ—¶ï¼Œä¼šå‡ºç°`git hooks`å¤±è´¥çš„æƒ…å†µã€‚æˆ‘ä»¬éœ€è¦å¤šåšä¸€ä¸ªå¤„ç†ï¼Œå¢åŠ ä¸€ä¸ª`common.sh`æ–‡ä»¶åšå…¼å®¹ã€‚

![image-20220429094109581](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204290941659.png)

**commitizen**

æˆ‘ä»¬æ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨è¾“å…¥`commit`ä¿¡æ¯å¾ˆéº»çƒ¦ï¼Œå¹¶ä¸”å®¹æ˜“é€ æˆä¸è§„èŒƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`commitizen`æ¥è§„èŒƒåŒ–æäº¤ä»£ç 

ç”±äº`commit`ä¿¡æ¯çš„å˜åŒ–æ€§è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå·¥å…·æˆ‘å¹¶æœªä½¿ç”¨ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢æ‰‹åŠ¨æ•²`commit`ä¿¡æ¯ï¼Œæ¯•ç«Ÿæ¯æ¬¡æäº¤è‡ªå·±çš„ä»£ç éƒ½æ˜¯ä¸€ç§äº«å—å•Šï¼Œæœ‰äº›äº‹æƒ…å°±ä¸éœ€è¦è‡ªåŠ¨åŒ–æ¥å¸®å•¦å“ˆå“ˆå“ˆã€‚å½“ç„¶ä½ å¦‚æœæƒ³è¦çš„è¯å¯ä»¥[å‚è€ƒå®˜ç½‘](https://github.com/commitizen/cz-cli)è¿›è¡Œé…ç½®ã€‚

### æµç¨‹æµ‹è¯•

æµ‹è¯•ä¹‹å‰æˆ‘ä»¬è®°å¾—æŠŠ`ESlinct`å®‰è£…å¥½ï¼Œå¹¶æ·»åŠ å®ƒçš„é…ç½®æ–‡ä»¶`.eslintrc.js`(å¯ä»¥è‡ªå®šä¹‰é…ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡`npx eslint --init`å‘½ä»¤æŒ‰æ­¥éª¤é…ç½®)ã€‚

> æ³¨ï¼šå®Œæ•´çš„ä»£ç è§„èŒƒé…ç½®ä¼šåœ¨æ¥ä¸‹æ¥è®²åˆ°ï¼Œè¿™é‡Œåªåšç®€å•çš„é…ç½®ä¸¾ä¾‹ã€‚

![image-20220429104555300](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204291045337.png)

```js
module.exports = {
  root: true,
  env: {
    browser: true,
    es2021: true,
    node: true,
  },
  extends: ["eslint:recommended"],
  globals: {
    // vue3
    defineProps: "readonly",
    defineEmits: "readonly",
    defineExpose: "readonly",
    withDefaults: "readonly",
  },
  rules: {
    "no-unused-vars": "warn",
  },
};
```

è¿™é‡Œæˆ‘ä»¬è¿›è¡Œ`commit`ï¼Œå‘ç°ä¼šæŠ¥é”™

![image-20220429111528862](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204291115937.png)

åŸå› æ˜¯æˆ‘ä»¬æ˜¯ä¸€ä¸ª vue+ts çš„é¡¹ç›®ï¼Œéœ€è¦ä¸º ESlint åšç›¸å…³é…ç½®ã€‚

![image-20220429112208857](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204291122919.png)

æˆ‘ä»¬å†æ¬¡`commit`

![image-20220429112443247](https://pictures-1312013355.cos.ap-guangzhou.myqcloud.com/pictures/202204291124299.png)

æ­å–œä½ ï¼ŒæˆåŠŸå®Œæˆä¸€æ¬¡å®Œæ•´çš„`husky`æµç¨‹ï¼ï¼ï¼
